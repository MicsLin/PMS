import{u as e,c as t,o as l,a,d as n,t as r,j as s,S as o,l as i,b as u,n as c,s as d,x as p,f,y as v,g as b,p as L,r as g,w as m,F as O,q as h}from"./vendor.5e620042.js";import{f as y,g as x,_ as A}from"./index.647400d6.js";const w={class:"relative"},I={class:"mr-2"},C={key:0},B={key:1},G={class:"mr-2"},E={key:0},S={key:1},_={class:"mr-2"},M={class:"mr-2"},N={class:"mr-2"},T={class:"absolute bottom-0 right-0 text-white"},$=[n("i",{class:"pe-7s-tools pe-lg pe-va"},null,-1)],k={props:{machineInfo:Object,reasonList:Object,errorCodeList:Object},setup(o){const i=o,u=e(),c=(e="",t="")=>y(e,t,i.machineInfo),d=t((()=>c("ErrorListCount","0"))),p=t((()=>c("PowerOn",0))),f=t((()=>{let e=parseInt(p.value,10);return Math.floor(e/3600)})),v=t((()=>{let e=parseInt(p.value,10)%3600;return Math.floor(e/60)})),b=t((()=>parseInt(p.value,10)%60)),L=t((()=>c("Working",0))),g=t((()=>{let e=parseInt(L.value,10);return Math.floor(e/3600)})),m=t((()=>{let e=parseInt(L.value,10)%3600;return Math.floor(e/60)})),O=t((()=>parseInt(L.value,10)%60)),h=t((()=>c("Name",""))),A=t((()=>c("Stitch","0"))),k=t((()=>c("Cut","0"))),D=t((()=>c("Availability","0%"))),R=e=>{if("machineError"==e){let t=function(){let e=c("ErrorList",[]),t=x(e),l=i.errorCodeList||[];return t.map((e=>{let t=" ";if(e&&e.ECLCode){let a=l.find((t=>t&&t.ECLCode==e.ECLCode));a&&(t=a.ECLInfo||"")}e.TranslationECLInfo=t})),t}();if(0==t.length)return;u.commit("onPopupOtherData",JSON.stringify(t)),u.commit("onPopupOtherData2",h.value),u.commit("onPopupForm",e)}if("machineMaintain"==e){let e=c("ID",""),t=c("MaintainList",[]),l=i.reasonList||[];u.commit("onPopupOtherData",JSON.stringify(t)),u.commit("onPopupOtherData2",JSON.stringify(l)),u.commit("onPopupOtherData3",e),u.commit("onPopupOtherData4",h.value),u.commit("onPopupForm","machineMaintain")}};return(e,t)=>(l(),a("div",w,[n("div",null,[n("span",I,r(e.$t("GLOBAL.GLOBAL_TURNONTOTAL"))+" : ",1),s(f)>0?(l(),a("span",C,r(s(f))+" "+r(e.$t("GLOBAL.GLOBAL_HOUR"))+" "+r(s(v))+" "+r(e.$t("GLOBAL.GLOBAL_MINUTES")),1)):(l(),a("span",B,r(s(v))+" "+r(e.$t("GLOBAL.GLOBAL_MINUTES"))+" "+r(s(b))+" "+r(e.$t("GLOBAL.GLOBAL_SECOND")),1))]),n("div",null,[n("span",G,r(e.$t("GLOBAL.GLOBAL_RUNNINGTIME"))+" : ",1),s(g)>0?(l(),a("span",E,r(s(g))+" "+r(e.$t("GLOBAL.GLOBAL_HOUR"))+" "+r(s(m))+" "+r(e.$t("GLOBAL.GLOBAL_MINUTES")),1)):(l(),a("span",S,r(s(m))+" "+r(e.$t("GLOBAL.GLOBAL_MINUTES"))+" "+r(s(O))+" "+r(e.$t("GLOBAL.GLOBAL_SECOND")),1))]),n("div",null,[n("span",_,r(e.$t("GLOBAL.GLOBAL_TOTALSTITCH"))+" : ",1),n("span",null,r(s(A)),1)]),n("div",null,[n("span",M,r(e.$t("GLOBAL.GLOBAL_TOTALTRIM"))+" : ",1),n("span",null,r(s(k)),1)]),n("div",null,[n("span",N,r(e.$t("MachineCard.MAC_UTILIZATION"))+" : ",1),n("span",null,r(s(D)),1)]),n("div",T,[n("button",{class:"px-3 py-1.5 bg-red-400 bg-opacity-60 hover:bg-opacity-70 text-sm rounded focus:outline-none",onClick:t[0]||(t[0]=e=>R("machineError"))},r(s(d)),1),n("button",{class:"ml-2 px-3 py-1.5 bg-yellow-500 bg-opacity-60 hover:bg-opacity-70 text-sm rounded focus:outline-none",onClick:t[1]||(t[1]=e=>R("machineMaintain"))},$)])]))}},D={class:"relative text-red-400 bg-opacity-10"},R={class:"mr-2"},U={key:0},W={key:1},j={key:2},P={class:"mr-2"},Y={class:"mr-2"},z={class:"mr-2"},H={props:{machineInfo:Object},setup(e){const o=e,i=(e="",t="",l="")=>o.machineInfo&&o.machineInfo[e]?t?o.machineInfo[e][t]||l:o.machineInfo[e]||"":"",u=t((()=>i("ErrorList","ECStartTime","00:00:00"))),c=t((()=>i("ErrorList","ECStartDate","0000-00-00"))),d=t((()=>i("ErrorList","ECLCode",""))),p=t((()=>i("ECLInfo")));let f=c.value+" "+u.value;const v=t((()=>new Date-new Date(f))),b=t((()=>Math.floor(v.value/864e5))),L=t((()=>{let e=v.value%864e5;return Math.floor(e/36e5)})),g=t((()=>{let e=v.value%36e5;return Math.floor(e/6e4)})),m=t((()=>{let e=v.value%6e4;return Math.floor(e/1e3)}));return(e,t)=>(l(),a("div",D,[n("div",null,[n("span",R,r(e.$t("GLOBAL.GLOBAL_TIME"))+" : ",1),s(b)>0?(l(),a("span",U,r(s(b))+" "+r(e.$t("GLOBAL.GLOBAL_DAY"))+" "+r(s(L))+" "+r(e.$t("GLOBAL.GLOBAL_HOUR"))+" "+r(s(g))+" "+r(e.$t("GLOBAL.GLOBAL_MINUTES")),1)):s(L)>0?(l(),a("span",W,r(s(L))+" "+r(e.$t("GLOBAL.GLOBAL_HOUR"))+" "+r(s(g))+" "+r(e.$t("GLOBAL.GLOBAL_MINUTES"))+" "+r(s(m))+" "+r(e.$t("GLOBAL.GLOBAL_SECOND")),1)):(l(),a("span",j,r(s(g))+r(e.$t("GLOBAL.GLOBAL_MINUTES"))+r(s(m))+r(e.$t("GLOBAL.GLOBAL_SECOND")),1))]),n("div",null,[n("span",P,r(e.$t("MachineCard.MAC_CODE"))+" : ",1),n("span",null,r(s(d)),1)]),n("div",null,[n("span",Y,r(e.$t("MachineCard.MAC_ERRORMSG"))+" : ",1),n("span",null,r(s(p)),1)]),n("div",null,[n("span",z,r(e.$t("GLOBAL.GLOBAL_STARTTIME"))+" : ",1),n("span",null,r(s(c))+" , "+r(s(u)),1)])]))}},q={class:"relative text-yellow-200 text-opacity-60 bg-opacity-10"},F={class:"mr-2"},J={key:0},Z={key:1},K={class:"mr-2"},X={key:0},Q={key:1},V={class:"mr-2"},ee={class:"mr-2"},te={props:{machineInfo:Object},setup(e){const o=e,i=(e="",t="")=>y(e,t,o.machineInfo),u=t((()=>i("PowerOn",0))),c=t((()=>{let e=parseInt(u.value,10);return Math.floor(e/3600)})),d=t((()=>{let e=parseInt(u.value,10)%3600;return Math.floor(e/60)})),p=t((()=>parseInt(u.value,10)%60)),f=t((()=>i("Working",0))),v=t((()=>{let e=parseInt(f.value,10);return Math.floor(e/3600)})),b=t((()=>{let e=parseInt(f.value,10)%3600;return Math.floor(e/60)})),L=t((()=>parseInt(f.value,10)%60)),g=t((()=>i("Stitch","0"))),m=t((()=>i("Availability","0")));return(e,t)=>(l(),a("div",q,[n("div",null,[n("span",F,r(e.$t("GLOBAL.GLOBAL_TURNONTOTAL"))+" : ",1),s(c)>0?(l(),a("span",J,r(s(c))+" "+r(e.$t("GLOBAL.GLOBAL_HOUR"))+" "+r(s(d))+" "+r(e.$t("GLOBAL.GLOBAL_MINUTES")),1)):(l(),a("span",Z,r(s(d))+" "+r(e.$t("GLOBAL.GLOBAL_MINUTES"))+" "+r(s(p))+" "+r(e.$t("GLOBAL.GLOBAL_SECOND")),1))]),n("div",null,[n("span",K,r(e.$t("GLOBAL.GLOBAL_RUNNINGTIME"))+" : ",1),s(v)>0?(l(),a("span",X,r(s(v))+" "+r(e.$t("GLOBAL.GLOBAL_HOUR"))+" "+r(s(b))+" "+r(e.$t("GLOBAL.GLOBAL_MINUTES")),1)):(l(),a("span",Q,r(s(b))+" "+r(e.$t("GLOBAL.GLOBAL_MINUTES"))+" "+r(s(L))+" "+r(e.$t("GLOBAL.GLOBAL_SECOND")),1))]),n("div",null,[n("span",V,r(e.$t("GLOBAL.GLOBAL_TOTALSTITCH"))+" : ",1),n("span",null,r(s(g)),1)]),n("div",null,[n("span",ee,r(e.$t("MachineCard.MAC_UTILIZATION"))+" : ",1),n("span",null,r(s(m)),1)])]))}},le={class:"w-5 h-5 relative"},ae={class:"w-full h-full text-center overflow-hidden absolute z-40 top-0 left-0 border border-black border-opacity-40 rounded-full bg-gray-500 bg-opacity-40"},ne={class:"flex justify-center items-center m-auto w-10/12 h-full rounded-full bg-white bg-opacity-10 text-white text-opacity-50 text-xs"},re=n("div",{class:"absolute z-10 -top-px left-1 w-full h-full rounded-full bg-gray-900 bg-opacity-70"},null,-1),se={props:{Icon:String,IsActive:Boolean},setup(e){const t=e,o=function(){let e="";return t.Icon&&(e=t.Icon),e}();return(e,t)=>(l(),a("div",le,[n("div",ae,[n("span",ne,r(s(o)),1)]),re]))}},oe={},ie={class:"w-2 h-2 relative"},ue=[n("div",{class:"w-full h-full absolute z-50 top-0 left-0 rounded-full bg-yellow-200 bg-opacity-50"},null,-1),n("div",{class:"absolute z-10 -top-px left-1 w-full h-full rounded-full bg-gray-900 bg-opacity-70"},null,-1)];var ce=A(oe,[["render",function(e,t){return l(),a("div",ie,ue)}]]);const de=e=>(d("data-v-21e9fbb0"),e=e(),p(),e),pe={class:"scene"},fe={class:"front rounded-md"},ve={class:"w-full h-full rounded-md overflow-hidden"},be=de((()=>n("div",{class:"w-full h-full bg-yellow-500 bg-opacity-30 blur"},null,-1))),Le=de((()=>n("div",{class:"w-full h-full bg-gray-700 bg-opacity-60 blur"},null,-1))),ge={class:"flex w-full h-full"},me={class:"w-1/2 left-0 h-full"},Oe={class:"w-24 h-6 m-auto flex items-end my-2"},he={class:"absolute top-1 left-3"},ye={class:"absolute -top-1.5 left-3"},xe=de((()=>n("p",{class:"text-xs text-blue-300"},"Wi-Fi",-1))),Ae={class:"absolute top-1 left-12"},we={class:"absolute -top-1.5 left-2"},Ie=de((()=>n("p",{class:"text-xs text-blue-300"},"Link",-1))),Ce={class:"absolute top-1 left-20"},Be={class:"absolute -top-1.5 left-2"},Ge=de((()=>n("p",{class:"text-xs text-blue-300"},"ACT",-1))),Ee={class:"top-8 left-3"},Se={class:"w-24 h-10 rounded-md"},_e={class:"absolute z-40 top-0 left-0 w-full h-full border-4 border-gray-700 rounded-md border-opacity-30"},Me=de((()=>n("div",{class:"absolute z-30 top-0 left-0 w-full h-full screenBlur"},null,-1))),Ne=de((()=>n("div",{class:"absolute z-10 top-0 left-0 w-full h-full"},null,-1))),Te=de((()=>n("div",{class:"text-center h-8 left-4 bottom-2"},[n("span",{class:"text-blue-200 text-2xl mr-1.5"},"ISM"),n("span",{class:"text-white text-lg"},"C-28")],-1))),$e={class:"w-1/2 right-0 top-0 h-full relative"},ke={class:"absolute right-0 top-0"},De=de((()=>n("div",{class:"w-7 h-3 bg-yellow-900 bg-opacity-70 blur-md rounded-full absolute top-1 right-1"},null,-1))),Re={class:"w-full mb-2 flex justify-center relative"},Ue=de((()=>n("div",{class:"absolute top-0 left-0 w-full h-full rounded-full bg-gray-100 bg-opacity-10 blur"},null,-1))),We={class:"flex absolute top-10 left-4"},je={class:"flex items-center top-0 left-0"},Pe={class:"mx-1 top-0 left-5"},Ye={class:"-top-5 left-0"},ze={class:"top-0 left-0"},He={class:"top-5 left-0"},qe={class:"flex items-center top-0 left-12"},Fe={class:"flex justify-center bottom-8 left-4"},Je={class:"top-0 left-6"},Ze={class:"back rounded-md overflow-hidden"},Ke=de((()=>n("div",{class:"w-full h-full bg-yellow-500 bg-opacity-30 blur"},null,-1))),Xe=de((()=>n("div",{class:"w-full h-full bg-gray-700 bg-opacity-60 blur"},null,-1))),Qe={class:"absolute left-0 top-0"},Ve={class:"top rounded-md relative"},et=de((()=>n("div",{class:"bottom rounded-md"},null,-1))),tt=de((()=>n("div",{class:"left rounded-md overflow-hidden"},[n("div",{class:"w-full h-full bg-yellow-500 bg-opacity-30 blur"}),n("div",{class:"w-full h-full bg-gray-700 bg-opacity-60 blur"})],-1))),lt=de((()=>n("div",{class:"w-full h-full bg-yellow-500 bg-opacity-30 blur"},null,-1))),at=de((()=>n("div",{class:"w-full h-full bg-gray-700 bg-opacity-60 blur"},null,-1)));var nt=A({props:{isRotate:Boolean,status:String,machine_OnlineSign:String},setup(e){const d=e;o((e=>({"0548b377":s(m),"4f4f1fc1":s(L),bd46abb6:s(O),"5218c12c":s(g),"123de56c":s(h),"5b69ef1d":s(y),"40bb49bf":s(C)})));const p=(e=0)=>e.toString()+"px",f=i(120),v=i(220),b=i(30),L=t((()=>p(v.value))),g=t((()=>p(b.value))),m=t((()=>p(b.value/2))),O=t((()=>p(f.value))),h=t((()=>p(f.value-b.value/2))),y=t((()=>p(v.value-b.value/2))),x=t((()=>d.status||"")),A=t((()=>d.machine_OnlineSign||"No")),w=t((()=>"Yes"==A.value?"living":"waiting..")),I=i({On:"text-green-900",Off:"text-gray-300",Out:"text-red-900",Warning:"text-yellow-900",Others:"text-gray-300"}),C=t((()=>"On"==x.value?"rgba(84, 246, 201, 1)":"Off"==x.value?"rgba(116, 115, 115, 0.6)":"Out"==x.value?"rgba(252, 165, 165, 1)":"Warning"==x.value?"rgba(254, 240, 138, 1)":"rgba(116, 115, 115, 0.6)")),B=t((()=>"On"==x.value?"bg-green-300":"Off"==x.value?"bg-gray-300 bg-opacity-70":"Out"==x.value?"bg-red-300":"Warning"==x.value?"bg-yellow-200":"")),G=t((()=>"On"==x.value?"bg-yellow-700 bg-opacity-90 blur-md":"Off"==x.value?"bg-black bg-opacity-90 blur-md":"Out"==x.value?"bg-red-700 bg-opacity-90 blur-md":(x.value,""))),E=t((()=>"On"==x.value?"border-t-green-300":"Off"==x.value?"border-t-gray-300":("Out"==x.value||x.value,"")));return(e,t)=>(l(),a("div",pe,[n("div",{class:c(["cube hover:transform",[d.isRotate?"transform":""]])},[n("div",fe,[n("div",ve,[be,Le,n("div",ge,[n("div",me,[n("div",Oe,[n("div",he,[n("div",ye,[u(ce)]),xe]),n("div",Ae,[n("div",we,[u(ce)]),Ie]),n("div",Ce,[n("div",Be,[u(ce)]),Ge])]),n("div",Ee,[n("div",Se,[n("div",_e,[n("span",{class:c(["text-opacity-30 pl-1 text-xl absolute left-0 top-0",[I.value[s(x)]?I.value[s(x)]:I.value[e.Others]]])},[n("span",null,r(s(w)),1)],2)]),Me,Ne])]),Te]),n("div",$e,[n("div",{class:c(["absolute -top-2 -right-1 w-5 h-5 rounded-full",s(G)])},null,2),n("div",ke,[n("div",{class:c(["w-10 h-5 right-0 top-0 rounded-bl-2xl",s(B)])},null,2),De]),n("div",Re,[Ue,n("div",We,[n("div",je,[u(se,{Icon:" ◀"})]),n("div",Pe,[n("div",Ye,[u(se,{Icon:" 🔺"})]),n("div",ze,[u(se,{Icon:" ↩"})]),n("div",He,[u(se,{Icon:" 🔻"})])]),n("div",qe,[u(se,{Icon:" ▶"})])])]),n("div",Fe,[u(se,{Icon:"P",class:"top-0 left-0"}),n("div",Je,[u(se,{Icon:" 📗"})]),u(se,{Icon:"Del",class:"top-0 left-12"})])])])])]),n("div",Ze,[Ke,Xe,n("div",{class:c(["absolute -top-2 -left-1 w-5 h-5 rounded-full",s(G)])},null,2),n("div",Qe,[n("div",{class:c(["w-10 h-5 left-0 top-0 rounded-br-2xl",s(B)])},null,2)])]),n("div",Ve,[n("div",{class:c(["w-10 h-full absolute top-0 right-0",s(B)])},null,2)]),et,tt,n("div",{class:c(["right rounded overflow-hidden",s(E)])},[lt,at,n("div",{class:c(["w-full h-5",s(B)])},null,2)],2)],2)]))}},[["__scopeId","data-v-21e9fbb0"]]);const rt={class:"scene"};var st=A({props:{isRotate:Boolean,status:String},setup(e){const r=e,o=t((()=>{let e=r.status;return"On"==e?"bg-blue-400":"Off"==e?"bg-gray-400":"Out"==e?"bg-red-400":"Warning"==e?"bg-yellow-200":void 0}));return(e,t)=>(l(),a("div",rt,[n("div",{class:c(["cube bg-green-100 bg-opacity-40 rounded-xl",[r.isRotate?"transform":""]])},[n("div",{class:c(["top bg-opacity-70 rounded-xl blur-xl",s(o)])},null,2)],2)]))}},[["__scopeId","data-v-271f11fc"]]);const ot=e=>(d("data-v-d6c0d040"),e=e(),p(),e),it={class:"mb-3 flex justify-end"},ut={class:"w-40 h-16 relative border-2 border-red-500 rounded-xl"},ct=ot((()=>n("div",{class:"absolute -left-10 top-10 w-10 h-12 border-t-2 border-l-2 rounded-tl-full border-red-500"},null,-1))),dt={class:"pt-2 pl-2 truncate"},pt={class:"w-64 h-40 m-auto relative"},ft=[ot((()=>n("div",{class:"flex justify-center items-center text-red-500 border-2 border-red-700 border-opacity-10 bg-red-400 bg-opacity-10 w-12 h-12"},[n("i",{class:"pe-7s-attention pe-2x pe-fw pe-va"})],-1)))],vt=[ot((()=>n("div",{class:"absolute -top-5 left-5 w-5 h-5 border-red-500 border-t border-l-2 rounded-tl-3xl"},null,-1))),ot((()=>n("div",{class:"flex justify-center items-center text-yellow-300 border-2 border-red-700 border-opacity-10 rounded-full w-12 h-12 bg-white bg-opacity-5"},[n("span",{class:"animate-ping absolute top-6 left-5 flex items-center h-4 w-4 rounded-full bg-yellow-400 opacity-75"}),n("i",{class:"pe-7s-tools pe-2x"})],-1)))],bt={class:"w-64 h-8 m-auto"},Lt={class:"w-64 sm:px-2 m-auto pb-5"},gt={key:0},mt={key:1},Ot={key:2};var ht=A({props:{status:String,machineInfo:Object,reasonList:Object,errorCodeList:Object},setup(o){const i=o,d=e(),p=(e="",t="")=>y(e,t,i.machineInfo),v=t((()=>i.status||"")),b=t((()=>p("Name",""))),L=t((()=>p("OnlineSign","No"))),g=t((()=>p("WarningSign","No"))),m=t((()=>p("ErrorSign","No"))),O=t((()=>"Yes"==g.value||"Yes"==m.value)),h=e=>{if("machineError"==e){let t=function(){let e=p("ErrorList",[]),t=x(e),l=i.errorCodeList||[];return t.map((e=>{let t=" ";if(e&&e.ECLCode){let a=l.find((t=>t&&t.ECLCode==e.ECLCode));a&&(t=a.ECLInfo||"")}e.TranslationECLInfo=t})),t}();if(0==t.length)return;d.commit("onPopupOtherData",JSON.stringify(t)),d.commit("onPopupOtherData2",b.value),d.commit("onPopupForm",e)}if("machineMaintain"==e){let e=p("ID",""),t=p("MaintainList",[]),l=i.reasonList||[];d.commit("onPopupOtherData",JSON.stringify(t)),d.commit("onPopupOtherData2",JSON.stringify(l)),d.commit("onPopupOtherData3",e),d.commit("onPopupOtherData4",b.value),d.commit("onPopupForm","machineMaintain")}},A=t((()=>"Yes"!=m.value?"":"On"==v.value||"Off"==v.value||"Warning"==v.value?"text-red-400 border border-red-400":"text-red-400"));return(e,t)=>(l(),a("div",{class:c(["w-80 sm:w-64 h-auto rounded-xl bg-black bg-opacity-20",s(A)])},[n("div",it,[n("div",ut,[ct,n("p",dt,">> "+r(s(b)),1)])]),n("div",pt,[u(nt,{isRotate:s(O),status:s(v),machine_OnlineSign:s(L)},null,8,["isRotate","status","machine_OnlineSign"]),"Yes"==s(m)&&"Out"!=s(v)?(l(),a("div",{key:0,class:"absolute -left-4 -top-10 animate-pulse bg-gray-900 bg-opacity-5 cursor-pointer",onClick:t[0]||(t[0]=e=>h("machineError"))},ft)):f("",!0),"Yes"==s(g)?(l(),a("div",{key:1,class:"absolute -left-8 bottom-2 cursor-pointer",onClick:t[1]||(t[1]=e=>h("machineMaintain"))},vt)):f("",!0)]),n("div",bt,[u(st,{isRotate:s(O),status:i.status},null,8,["isRotate","status"])]),n("div",Lt,["On"==s(v)||"Off"==s(v)?(l(),a("div",gt,[u(k,{machineInfo:i.machineInfo,reasonList:i.reasonList,errorCodeList:i.errorCodeList},null,8,["machineInfo","reasonList","errorCodeList"])])):"Out"==s(v)?(l(),a("div",mt,[u(H,{machineInfo:i.machineInfo},null,8,["machineInfo"])])):"Warning"==s(v)?(l(),a("div",Ot,[u(te,{machineInfo:i.machineInfo},null,8,["machineInfo"])])):f("",!0)])],2))}},[["__scopeId","data-v-d6c0d040"]]);const yt=e=>(d("data-v-eee15bd8"),e=e(),p(),e),xt={class:"mainPaddingX text-white"},At={class:"px-8 md:px-4 py-4 flex items-center text-title-h1 text-lg"},wt={class:"mr-5"},It={class:"btn btnBlueColor"},Ct={class:"md:px-4 md:pb-4 mr-2 flex items-center"},Bt={class:"machineNameWidth truncate font-bold"},Gt={class:"btnGroupWidth grid grid-cols-4 gap-2 md:gap-0"},Et=yt((()=>n("i",{class:"pe-7s-cloud-upload pe-lg pe-fw pe-va"},null,-1))),St=yt((()=>n("i",{class:"pe-7s-cloud-download pe-lg pe-fw pe-va"},null,-1))),_t=yt((()=>n("i",{class:"pe-7s-attention pe-lg pe-fw pe-va"},null,-1))),Mt=yt((()=>n("i",{class:"pe-7s-tools pe-lg pe-fw pe-va"},null,-1))),Nt={class:"border-gray-900 border-r"},Tt={key:0},$t={key:0,class:"py-2 w-full bg-red-700 bg-opacity-70 text-center border"},kt={key:1},Dt={key:0,class:"py-2 w-full bg-red-700 bg-opacity-70 text-center border"},Rt={key:1,class:"flex flex-wrap w-full pt-5 text-sm shadow"};var Ut=A({setup(o){const d=e(),p=v(),y=b(),x=t((()=>y.locale.value));t((()=>d.state.resData.token)),t((()=>d.state.serverURL));const A=t((()=>d.state.refreshMilliSec)),w=t((()=>p.query.LineID||"")),I=t((()=>p.query.direction||"On")),C=t((()=>({tw:"zh",cn:"ch",jp:"jp",en:"en"}[x.value]||"en"))),B=i(""),G=i([]),E=i([]),S=i([]),_=i([]),M=i(!1),N=(e="",t=S.value)=>Array.isArray(t)&&t[0]&&t[0][e]&&Number(t[0][e])||0,T=t((()=>N("Total"))),$=t((()=>N("Online"))),k=t((()=>N("Offline"))),D=t((()=>N("Error"))),R=t((()=>N("Warning"))),U=t((()=>G.value.filter((e=>e&&e.ECLLanguage==C.value)))),W=t((()=>_.value.filter((e=>e&&e.Language==C.value)))),j=t((()=>{let e=(e="",t="")=>E.value.filter((l=>l&&l[e]==t));if("On"==I.value)return e("OnlineSign","Yes");if("Off"==I.value)return e("OnlineSign","No");if("Warning"==I.value)return e("WarningSign","Yes");if("Out"==I.value){let e=[],t=(e="")=>{if(!e)return"";let t=U.value.find((t=>t&&t.ECLCode==e));return t&&t.ECLInfo||""};return E.value.map((l=>{l&&"Yes"==l.ErrorSign&&Array.isArray(l.ErrorList)&&l.ErrorList.map((a=>{a&&"Error"==a.ECStatus&&e.push({ID:l.ID||"",Name:l.Name||"",OnlineSign:l.OnlineSign||"No",WarningSign:l.WarningSign||"No",ErrorSign:l.ErrorSign||"No",ErrorList:a,ECLInfo:t(a.ECLCode)})}))})),e}})),P=()=>{let e=d.state.fakeData.onLine[w.value];e&&(G.value=Array.isArray(e.ErrorCodeList)?e.ErrorCodeList:[],E.value=Array.isArray(e.MachineList)?e.MachineList:[],B.value=e.lineName||"",S.value=Array.isArray(e.countOnOffErrorWarning)?e.countOnOffErrorWarning:[],_.value=Array.isArray(e.reasonList)?e.reasonList:[],0==T.value&&(M.value=!0))};P();var Y=setInterval((function(){P()}),A.value);return L((e=>{clearInterval(Y)})),(e,t)=>{const o=g("router-link");return l(),a("main",xt,[n("section",At,[n("h1",wt,r(e.$t("MachineStatusAll.MS_STATUS")),1),u(o,{to:"/machine_status"},{default:m((()=>[n("button",It,r(e.$t("GLOBAL.GLOBAL_BACK")),1)])),_:1})]),n("section",{class:c(["px-8 md:px-0 py-4 md:pb-0 flex md:block items-center justify-between w-full text-lg rounded-t border-gray-900 border-r bg-opacity-60",[s(D)>0?"bg-red-400":"bg-blue-500"]])},[n("article",Ct,[n("span",Bt,r(B.value),1),n("span",{class:c(["ml-2 w-8 h-5 leading-5 bg-white text-sm text-center rounded-2xl font-bold truncate",[s(D)>0?"text-red-400":"text-blue-400"]])},r(s(T)),3)]),n("article",Gt,[u(o,{to:{name:"MachineOnline",query:{LineID:s(w),direction:"On"}},class:"w-full btn btnGreenColor md:rounded-none px-1 text-center truncate text-lg"},{default:m((()=>[Et,n("span",null,r(s($)),1)])),_:1},8,["to"]),u(o,{to:{name:"MachineOnline",query:{LineID:s(w),direction:"Off"}},class:"w-full btn btnGrayColor md:rounded-none px-1 text-center truncate text-lg"},{default:m((()=>[St,n("span",null,r(s(k)),1)])),_:1},8,["to"]),u(o,{to:{name:"MachineOnline",query:{LineID:s(w),direction:"Out"}},class:"w-full btn btnRedColor md:rounded-none px-1 text-center truncate text-lg"},{default:m((()=>[_t,n("span",null,r(s(D)),1)])),_:1},8,["to"]),u(o,{to:{name:"MachineOnline",query:{LineID:s(w),direction:"Warning"}},class:"w-full btn btnYellowColor md:rounded-none px-1 text-center truncate text-lg"},{default:m((()=>[Mt,n("span",null,r(s(R)),1)])),_:1},8,["to"])])],2),n("section",Nt,[0==s(T)?(l(),a("article",Tt,[M.value?(l(),a("div",$t,r(e.$t("ErrorCodeList.ECL_NODATA")),1)):f("",!0)])):(l(),a("article",kt,[0==s(j).length?(l(),a("div",Dt,[n("span",null,r(e.$t("ErrorCodeList.ECL_NODATA")),1)])):(l(),a("div",Rt,[(l(!0),a(O,null,h(s(j),((e,t)=>(l(),a("div",{class:c(["w-3/12 xl:w-4/12 lg:w-6/12 sm:w-full mb-7",[3==s(j).length?"cardWidthThree":"cardWidth"]]),key:"machineInfo"+t},[n("div",null,[u(ht,{status:s(I),machineInfo:e,reasonList:s(W),errorCodeList:s(U),class:"rounded-xl m-auto"},null,8,["status","machineInfo","reasonList","errorCodeList"])])],2)))),128))]))]))])])}}},[["__scopeId","data-v-eee15bd8"]]);export{Ut as default};
