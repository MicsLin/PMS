import{M as e}from"./Machine3DCard.97516f67.js";import{u as a,g as t,c as s,l,m as n,p as r,r as i,a as o,d as u,t as c,b as d,w as m,F as h,q as p,o as f,e as x,j as v,n as g,s as S,x as b}from"./vendor.5e620042.js";import{_ as w}from"./index.42c5c041.js";const M=e=>(S("data-v-67012f52"),e=e(),b(),e),_={class:"mainPaddingX"},y={class:"py-4 px-8 sm:px-4 flex items-center text-lg myBorder"},A={class:"lg:hidden min-w-max text-title-h1"},L={class:"m-auto flex items-center justify-evenly md:w-full"},I={class:"border border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white rounded px-5 md:px-2.5 py-2.5 flex items-center"},j=M((()=>u("i",{class:"pe-7s-note2 pe-lg pe-fw pe-va"},null,-1))),N={class:"sm:hidden"},W={class:"mx-10 lg:mx-8 md:mx-0 border border-red-500 text-red-500 hover:bg-red-500 hover:text-white rounded px-5 md:px-2.5 py-2.5 flex items-center"},$=M((()=>u("i",{class:"pe-7s-attention pe-lg pe-fw pe-va"},null,-1))),R={class:"sm:hidden"},T={class:"border border-yellow-600 bg-yellow-600 hover:bg-opacity-80 text-white rounded px-5 md:px-2.5 py-2.5 flex items-center"},k=M((()=>u("i",{class:"pe-7s-tools pe-lg pe-fw pe-va"},null,-1))),D={class:"sm:hidden"},B={class:"mt-7 pt-7 w-full flex flex-wrap text-sm text-white shadow myBorder"};var E=w({props:{dateNow:String},setup(S){const b=S,w=a(),M=t(),E=s((()=>M.locale.value));s((()=>w.state.resData.token)),s((()=>w.state.serverURL));const U=s((()=>w.state.refreshMilliSec)),q=l(0),z=l(0),C=l([]),F=l([]),O=s((()=>{let e={tw:"zh",cn:"ch",jp:"ja",en:"en"}[E.value];return F.value.filter((a=>a&&a.Language==e))})),P=s((()=>C.value.length)),X=()=>{let e=w.state.fakeData.machineStatusWarning;q.value=Number(e.allLineNum)||0,z.value=Number(e.allErrorNum)||0,C.value=Array.isArray(e.WarningMachineInfo)?e.WarningMachineInfo:[],F.value=Array.isArray(e.reasonList)?e.reasonList:[]};X(),n((()=>b.dateNow),(e=>{e&&X()}));var G=setInterval((function(){X()}),U.value);return r((e=>{clearInterval(G)})),(a,t)=>{const s=i("router-link");return f(),o("main",_,[u("section",y,[u("h1",A,c(a.$t("MachineStatusAll.MS_STATUS")),1),u("article",L,[d(s,{to:"/machine_status"},{default:m((()=>[u("button",I,[j,u("span",N,c(a.$t("MachineStatusAll.MS_ALL"))+c(a.$t("MachineStatusAll.MS_LIST")),1),x(" ("+c(q.value)+") ",1)])])),_:1}),d(s,{to:"/machine_status_out_of_order"},{default:m((()=>[u("button",W,[$,u("span",R,c(a.$t("MachineStatusAll.MS_ERROR"))+c(a.$t("MachineStatusAll.MS_LIST")),1),x(" ("+c(z.value)+") ",1)])])),_:1}),d(s,{to:"/machine_status_warning"},{default:m((()=>[u("button",T,[k,u("span",D,c(a.$t("MachineStatusAll.MS_WARN"))+c(a.$t("MachineStatusAll.MS_LIST")),1),x(" ("+c(v(P))+") ",1)])])),_:1})])]),u("section",B,[(f(!0),o(h,null,p(C.value,((a,t)=>(f(),o("div",{class:g(["machineLineDiv mb-7",[3==v(P)?"cardWidthThree":"cardWidth"]]),key:"warningMachineInfo"+t},[d(e,{isRotate:!1,status:"Warning",machineInfo:a,reasonList:v(O),class:"rounded-xl m-auto"},null,8,["machineInfo","reasonList"])],2)))),128))])])}}},[["__scopeId","data-v-67012f52"]]);export{E as default};
