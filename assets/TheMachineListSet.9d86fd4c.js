import{u as e,k as l,g as a,c as t,l as n,m as s,a as i,d as o,t as c,i as r,z as u,W as p,B as d,f as v,F as m,q as f,s as g,x as h,o as y,n as M,j as L}from"./vendor.5e620042.js";import{_ as w,P as x,g as S,s as N,S as k,a as I}from"./index.4332a85f.js";const C=e=>(g("data-v-4642696a"),e=e(),h(),e),E={class:"mainPaddingX"},b={class:"py-4 text-4xl text-title-h1"},A={class:"w-full shadow"},T={class:"flex sm:flex-wrap items-center justify-between h-16 sm:h-auto py-4 px-8 sm:px-4 titleStyle myBorder mb-4"},D={class:"flex items-center text-xl"},_=C((()=>o("i",{class:"pe-7s-radio pe-lg pe-va"},null,-1))),B={class:"ml-3"},j={class:"relative -top-px"},P={class:"px-8 sm:px-2 py-6 sm:py-4 text-white text-sm myBorder"},$={class:"flex sm:flex-wrap items-center justify-between mb-4 w-full"},R={class:"flex items-center mb-1"},O=["placeholder"],F={class:"flex lg:flex-wrap justify-between my-4"},W={class:"w-full lg:w-auto lg:mb-2 flex items-center"},G={class:"mr-1"},U=["min"],H={class:"w-full lg:w-auto lg:mb-2 flex items-center flex-row-reverse"},Y=["onClick"],K=[C((()=>o("i",{class:"pe-7s-angle-right pe-2x pe-va pe-fw"},null,-1)))],q={class:"bg-white px-2 py-1 bg-opacity-5 rounded"},z=C((()=>o("span",{class:"mx-1"},"/",-1))),J=["onClick"],V=[C((()=>o("i",{class:"pe-7s-angle-left pe-2x pe-va pe-fw"},null,-1)))],X={class:"mb-2 flex w-full text-white tableThStyle lg:hidden"},Q={class:"w-full flex"},Z={class:"w-full flex"},ee={key:0,class:"pl-1"},le={key:1,class:"pe-7s-angle-down pe-lg pe-va"},ae={key:2,class:"pe-7s-angle-up pe-lg pe-va"},te={key:0,class:"pl-1"},ne={key:1,class:"pe-7s-angle-down pe-lg pe-va"},se={key:2,class:"pe-7s-angle-up pe-lg pe-va"},ie={key:0,class:"pl-1"},oe={key:1,class:"pe-7s-angle-down pe-lg pe-va"},ce={key:2,class:"pe-7s-angle-up pe-lg pe-va"},re={key:0,class:"pl-1"},ue={key:1,class:"pe-7s-angle-down pe-lg pe-va"},pe={key:2,class:"pe-7s-angle-up pe-lg pe-va"},de={key:0,class:"pl-1"},ve={key:1,class:"pe-7s-angle-down pe-lg pe-va"},me={key:2,class:"pe-7s-angle-up pe-lg pe-va"},fe={key:0,class:"pl-1"},ge={key:1,class:"pe-7s-angle-down pe-lg pe-va"},he={key:2,class:"pe-7s-angle-up pe-lg pe-va"},ye={key:0,class:"pl-1"},Me={key:1,class:"pe-7s-angle-down pe-lg pe-va"},Le={key:2,class:"pe-7s-angle-up pe-lg pe-va"},we={class:"w-1/12 flex justify-center"},xe={class:"w-full text-center overflow-hidden"},Se={class:"w-full lg:grid lg:grid-cols-2 sm:grid-cols-1"},Ne={class:"w-1/12 lg:w-full py-2 lg:pt-0 lg:px-4 flex lg:flex-wrap justify-center lg:justify-between"},ke={class:"hidden lg:block w-2/12 text-lg"},Ie={class:"w-full lg:w-auto flex lg:flex-wrap justify-center lg:justify-start"},Ce={class:"w-full lg:w-auto flex justify-center mb-1"},Ee=["onClick"],be={class:"w-full flex"},Ae=["onClick"],Te={class:"lg:hidden w-1/12 flex justify-end items-center"},De={class:"w-full flex lg:block lg:px-4 justify-center items-center maxWidth"},_e={class:"hidden lg:inline-block mr-1"},Be={key:0},je={key:1,class:"textNotSetColor"},Pe={class:"w-full flex lg:block lg:px-4 justify-center items-center maxWidth"},$e={class:"hidden lg:inline-block mr-1"},Re={key:0},Oe={key:1,class:"textNotSetColor"},Fe={class:"w-full flex lg:block lg:px-4 justify-center items-center maxWidth"},We={class:"hidden lg:inline-block mr-1"},Ge={key:0},Ue={key:1,class:"textNotSetColor"},He={class:"w-full flex lg:block lg:px-4 justify-center items-center maxWidth"},Ye={class:"hidden lg:inline-block mr-1"},Ke={key:0},qe={key:1,class:"textNotSetColor"},ze={class:"w-full flex lg:block lg:px-4 justify-center items-center maxWidth"},Je={class:"hidden lg:inline-block mr-1"},Ve={key:0},Xe={key:1,class:"textNotSetColor"},Qe={class:"w-full flex lg:block lg:px-4 justify-center items-center maxWidth"},Ze={class:"hidden lg:inline-block mr-1"},el={key:0,class:"textNotSetColor"},ll={key:1},al={key:2};var tl=w({props:{upatedMID:String},setup(g){const h=g,w=e(),C=l(),tl=a(),nl=t((()=>tl.locale.value));t((()=>w.state.resData.token)),t((()=>w.state.serverURL));const sl=t((()=>{let e=JSON.parse(sessionStorage.getItem("machineListSetting")||"0");return Number(e)||25})),il=n([]),ol=n(0),cl=n([]),rl=n(""),ul=n(new x({rightNowPage:1,amountData:sl.value,minAmountData:10})),pl=()=>{ul.value.previous(),cl.value=ul.value.getListByPage()},dl=()=>{ul.value.next(),cl.value=ul.value.getListByPage()},vl=()=>{let e=Number(ul.value.amountData);(!e||e==1/0||e>ol.value)&&(e=ol.value),e<ul.value.minAmountData&&(e=ul.value.minAmountData),ul.value.amountData=e,Ml(),sessionStorage.setItem("machineListSetting",JSON.stringify(e))},ml=n(new k),fl=ml.value.sortingFunction();ml.value.setKeys(["MachineName","LineName","ProductName","ProcessName","MachineBrand","MachineType","MachineItemNum","Employee","MachineMajor"]);const gl=(e=[])=>{ul.value.set({searchedeAndSortedListCopy:e}),cl.value=ul.value.getListByPage()};ml.value.setFunction("Initial",(()=>{let e=fl.Initial(rl.value,il.value,"MachineName"),l=wl(e);gl(l)})),ml.value.setFunction("ASC",((e="")=>{let l=fl.ASC(ul.value.searchedeAndSortedListCopy,e,!0);gl(l)})),ml.value.setFunction("DESC",((e="")=>{let l=fl.DESC(ul.value.searchedeAndSortedListCopy,e,!0);gl(l)}));const hl=(e="")=>{ul.value.set({rightNowPage:1}),ml.value.sort(e)},yl=()=>{ml.value.KeepTheSortingRuleAndFilter(),ol.value=ul.value.searchedeAndSortedListCopy.length},Ml=(e=!0)=>{e&&(ml.value.sort("else",!1),ul.value.set({rightNowPage:1}));let l=N(rl.value,il.value,"MachineName"),a=wl(l);ul.value.set({searchedeAndSortedListCopy:a}),cl.value=ul.value.getListByPage(),ol.value=a.length},Ll=()=>{rl.value="",Ml()},wl=(e=ul.value.searchedeAndSortedListCopy)=>{let l=[];return Array.isArray(e)&&(l=S(e),l.map((e=>{if(!e)return;if(null==e.EmployeeForename&&null==e.EmployeeSurname)return e.Employee=null;let l=e.EmployeeForename||"",a=e.EmployeeSurname||"";e.Employee="en"==nl.value?l+a:a+l}))),l};s((()=>nl.value),(()=>ul.value.set({searchedeAndSortedListCopy:wl()})));const xl=function(e=(()=>{})){let l=w.state.fakeData.theMachineListSet;Array.isArray(l.MachineInfo)&&(il.value=l.MachineInfo),ol.value=Number(l.MachineListTotalNumber)||0;let a=wl(il.value);ul.value.set({searchedeAndSortedListCopy:a}),cl.value=ul.value.getListByPage(),e()};xl();const Sl=n(!1),Nl=n(!1);return(e,l)=>(y(),i("main",E,[o("h1",b,c(e.$t("MachineList.MLIST_MACHINESETTING")),1),o("div",A,[o("div",T,[o("div",null,[o("span",D,[_,o("span",B,c(e.$t("GLOBAL.GLOBAL_LIST")),1),o("span",j,"("+c(ol.value)+")",1)])])]),o("div",P,[o("div",$,[o("div",R,[r(o("input",{type:"text",class:"myInput rounded-r-none w-60 sm:w-auto text-gray-500",placeholder:e.$t("MachineList.MLIST_TYPEINMACHINENAME"),"onUpdate:modelValue":l[0]||(l[0]=e=>rl.value=e)},null,8,O),[[u,rl.value]]),o("button",{type:"button",class:"btn btnSearchColor",onClick:Ml},c(e.$t("Product.PRO_SEARCHBTN")),1)]),o("button",{type:"button",class:"btn btnBlueColor mb-1",onClick:Ll},c(e.$t("Product.PRO_SHOWALL")),1)]),o("div",F,[o("div",W,[o("label",G,c(e.$t("MachineList.MLIST_AMOUNT_DATA"))+" :",1),r(o("input",{type:"number",min:ul.value.minAmountData,step:"1",class:"myInput w-16 text-center","onUpdate:modelValue":l[1]||(l[1]=e=>ul.value.amountData=e),onChange:vl,onKeypress:l[2]||(l[2]=p(d((()=>{}),["prevent"]),["enter"]))},null,40,U),[[u,ul.value.amountData,void 0,{lazy:!0}]])]),o("div",H,[o("button",{onClick:d(dl,["prevent"])},K,8,Y),o("div",q,[o("span",null,c(ul.value.rightNowPage),1),z,o("span",null,c(ul.value.totalPage),1)]),o("button",{onClick:d(pl,["prevent"])},V,8,J),o("span",null,c(e.$t("LineBalance.LB_PROCESSINFO_PAGES"))+":",1)])]),o("div",X,[o("div",Q,[o("div",Z,[o("div",{class:"w-1/12 overflow-hidden rounded cursor-pointer hover:bg-gray-400",onClick:l[3]||(l[3]=e=>hl("MachineMajor"))},["Initial"==ml.value.info.MachineMajor.direction?(y(),i("span",ee,"↕")):v("",!0),"ASC"==ml.value.info.MachineMajor.direction?(y(),i("i",le)):v("",!0),"DESC"==ml.value.info.MachineMajor.direction?(y(),i("i",ae)):v("",!0)]),o("div",{class:"w-full text-center overflow-hidden cursor-pointer",onClick:l[4]||(l[4]=e=>hl("MachineName"))},[o("span",null,c(e.$t("MachineList.MLIST_MACHINE")),1),"Initial"==ml.value.info.MachineName.direction?(y(),i("span",te,"↕")):v("",!0),"ASC"==ml.value.info.MachineName.direction?(y(),i("i",ne)):v("",!0),"DESC"==ml.value.info.MachineName.direction?(y(),i("i",se)):v("",!0)]),o("div",{class:"w-full text-center overflow-hidden cursor-pointer",onClick:l[5]||(l[5]=e=>hl("LineName"))},[o("span",null,c(e.$t("MachineList.MLIST_CURRENTLINE")),1),"Initial"==ml.value.info.LineName.direction?(y(),i("span",ie,"↕")):v("",!0),"ASC"==ml.value.info.LineName.direction?(y(),i("i",oe)):v("",!0),"DESC"==ml.value.info.LineName.direction?(y(),i("i",ce)):v("",!0)]),o("div",{class:"w-full text-center overflow-hidden cursor-pointer",onClick:l[6]||(l[6]=e=>hl("MachineBrand"))},[o("span",null,c(e.$t("MachineList.MLIST_BRAND")),1),"Initial"==ml.value.info.MachineBrand.direction?(y(),i("span",re,"↕")):v("",!0),"ASC"==ml.value.info.MachineBrand.direction?(y(),i("i",ue)):v("",!0),"DESC"==ml.value.info.MachineBrand.direction?(y(),i("i",pe)):v("",!0)]),o("div",{class:"w-full text-center overflow-hidden cursor-pointer",onClick:l[7]||(l[7]=e=>hl("MachineType"))},[o("span",null,c(e.$t("MachineList.MLIST_TYPE")),1),"Initial"==ml.value.info.MachineType.direction?(y(),i("span",de,"↕")):v("",!0),"ASC"==ml.value.info.MachineType.direction?(y(),i("i",ve)):v("",!0),"DESC"==ml.value.info.MachineType.direction?(y(),i("i",me)):v("",!0)]),o("div",{class:"w-full text-center overflow-hidden cursor-pointer",onClick:l[8]||(l[8]=e=>hl("MachineItemNum"))},[o("span",null,c(e.$t("MachineList.MLIST_ITEMNUMBER")),1),"Initial"==ml.value.info.MachineItemNum.direction?(y(),i("span",fe,"↕")):v("",!0),"ASC"==ml.value.info.MachineItemNum.direction?(y(),i("i",ge)):v("",!0),"DESC"==ml.value.info.MachineItemNum.direction?(y(),i("i",he)):v("",!0)]),o("div",{class:"w-full text-center overflow-hidden cursor-pointer",onClick:l[9]||(l[9]=e=>hl("Employee"))},[o("span",null,c(e.$t("MachineList.MLIST_OPERATOR")),1),"Initial"==ml.value.info.Employee.direction?(y(),i("span",ye,"↕")):v("",!0),"ASC"==ml.value.info.Employee.direction?(y(),i("i",Me)):v("",!0),"DESC"==ml.value.info.Employee.direction?(y(),i("i",Le)):v("",!0)])])]),o("div",we,[o("div",xe,c(e.$t("GLOBAL.GLOBAL_DELETE")),1)])]),o("main",null,[o("section",Se,[(y(!0),i(m,null,f(cl.value,((l,a)=>(y(),i("article",{class:"w-full lg:flex lg:justify-center lg:mb-4",key:"machineList"+a},[o("div",{class:M(["flex lg:block flex-row-reverse tableHover border-t lg:py-5 lg:border-r lg:shadow-lg border-gray-800 rounded overflow-hidden",[[l.MachineID==h.upatedMID&&l.MachineID?"isNewBgColor":""],["Yes"==l.MachineMajor?"majorText":"text-white"],[Sl.value?"lg:min-w-full":""],[Nl.value?"w-full lg:w-72":"theWidth"]]])},[o("div",Ne,[o("div",ke,c((ul.value.rightNowPage-1)*ul.value.amountData+a+1)+". ",1),o("div",Ie,[o("div",Ce,[o("button",{type:"button",class:"btn btnRedColor",onClick:e=>(e=>{let l=I(nl.value),a=l.confirmDelete;if(confirm(a)){let a=w.state.fakeData.theMachineListSet.MachineInfo,t=a.findIndex((l=>(null==l?void 0:l.MachineID)==e));if(t>=0){a.splice(t,1);let e=l.deleteSuccess;alert(e),xl(yl)}}})(l.MachineID)},c(e.$t("GLOBAL.GLOBAL_DELETE")),9,Ee)])])]),o("div",be,[o("div",{class:"w-full lg:w-full flex lg:flex-wrap cursor-pointer lg:text-lg",onClick:e=>((e="")=>{e&&C.push({name:"MachinelistSetLink",query:{MID:e}})})(l.MachineID)},[o("div",Te,c((ul.value.rightNowPage-1)*ul.value.amountData+a+1)+". ",1),o("div",De,[o("span",_e,c(e.$t("MachineList.MLIST_MACHINE"))+" :",1),l.MachineName?(y(),i("span",Be,c(l.MachineName),1)):(y(),i("span",je,c(e.$t("Line.LINE_NA")),1))]),o("div",Pe,[o("span",$e,c(e.$t("MachineList.MLIST_CURRENTLINE"))+" :",1),l.LineName?(y(),i("span",Re,c(l.LineName),1)):(y(),i("span",Oe,c(e.$t("Line.LINE_NA")),1))]),o("div",Fe,[o("span",We,c(e.$t("MachineList.MLIST_BRAND"))+" :",1),l.MachineBrand?(y(),i("span",Ge,c(l.MachineBrand),1)):(y(),i("span",Ue,c(e.$t("Line.LINE_NA")),1))]),o("div",He,[o("span",Ye,c(e.$t("MachineList.MLIST_TYPE"))+" :",1),l.MachineType?(y(),i("span",Ke,c(l.MachineType),1)):(y(),i("span",qe,c(e.$t("Line.LINE_NA")),1))]),o("div",ze,[o("span",Je,c(e.$t("MachineList.MLIST_ITEMNUMBER"))+" :",1),l.MachineItemNum?(y(),i("span",Ve,c(l.MachineItemNum),1)):(y(),i("span",Xe,c(e.$t("Line.LINE_NA")),1))]),o("div",Qe,[o("span",Ze,c(e.$t("MachineList.MLIST_OPERATOR"))+":",1),l.EmployeeSurname||l.EmployeeForename?"en"==L(nl)?(y(),i("span",ll,c(l.EmployeeForename)+" "+c(l.EmployeeSurname),1)):(y(),i("span",al,c(l.EmployeeSurname)+" "+c(l.EmployeeForename),1)):(y(),i("span",el,c(e.$t("Line.LINE_NA")),1))])],8,Ae)])],2)])))),128))])])])])]))}},[["__scopeId","data-v-4642696a"]]);export{tl as default};
