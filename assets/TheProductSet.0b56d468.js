import{u as e,k as l,g as t,c as a,l as s,m as n,a as u,d as o,t as i,i as c,z as r,W as d,B as p,f as v,F as g,q as m,s as f,x as w,o as x,n as y,e as b}from"./vendor.5e620042.js";import{_ as h,P as S,s as L,S as P,a as C}from"./index.4332a85f.js";const A=e=>(f("data-v-ac7615c2"),e=e(),w(),e),k={class:"mainPaddingX"},N={class:"py-4 text-4xl text-title-h1"},O={class:"w-full shadow"},D={class:"flex sm:flex-wrap items-center justify-between h-16 sm:h-auto py-4 px-8 sm:px-4 titleStyle myBorder mb-4"},I={class:"flex items-center text-xl"},B=A((()=>o("i",{class:"pe-7s-ticket pe-lg pe-va"},null,-1))),E={class:"ml-3"},_={class:"relative -top-px"},j={class:"px-8 sm:px-2 py-6 sm:py-4 text-white text-sm myBorder"},R={class:"flex sm:flex-wrap items-center justify-between mb-4 w-full"},T={class:"flex items-center mb-1"},$=["placeholder"],G={class:"flex lg:flex-wrap justify-between my-4"},F={class:"w-full lg:w-auto lg:mb-2 flex items-center"},z={class:"mr-1"},M=["min"],U={class:"w-full lg:w-auto lg:mb-2 flex items-center flex-row-reverse"},H=["onClick"],K=[A((()=>o("i",{class:"pe-7s-angle-right pe-2x pe-va pe-fw"},null,-1)))],W={class:"bg-white px-2 py-1 bg-opacity-5 rounded"},q=A((()=>o("span",{class:"mx-1"},"/",-1))),J=["onClick"],V=[A((()=>o("i",{class:"pe-7s-angle-left pe-2x pe-va pe-fw"},null,-1)))],Z={class:"lg:hidden mb-2 flex w-full text-white tableThStyle"},X={class:"w-full flex"},Q={class:"w-full flex"},Y=A((()=>o("div",{class:"lg:hidden w-2/12 text-center overflow-hidden"},null,-1))),ee={key:0,class:"pl-1"},le={key:1,class:"pe-7s-angle-down pe-lg pe-va"},te={key:2,class:"pe-7s-angle-up pe-lg pe-va"},ae={key:0,class:"pl-1"},se={key:1,class:"pe-7s-angle-down pe-lg pe-va"},ne={key:2,class:"pe-7s-angle-up pe-lg pe-va"},ue={key:0,class:"pl-1"},oe={key:1,class:"pe-7s-angle-down pe-lg pe-va"},ie={key:2,class:"pe-7s-angle-up pe-lg pe-va"},ce={class:"w-2/12 flex justify-center"},re={class:"w-full text-center overflow-hidden mr-1"},de={class:"w-full text-center overflow-hidden"},pe={class:"w-full lg:grid lg:grid-cols-2 sm:grid-cols-1"},ve={class:"w-2/12 lg:w-full py-2 lg:pt-0 lg:px-4 flex lg:flex-wrap justify-center lg:justify-between"},ge={class:"hidden lg:block w-2/12 text-lg"},me={class:"w-full lg:w-auto flex lg:flex-wrap justify-center lg:justify-start"},fe={class:"w-full lg:w-auto flex justify-center mr-1 mb-1"},we=["onClick"],xe={class:"w-full lg:w-auto flex justify-center mb-1"},ye=["onClick"],be={class:"w-full flex lg:block"},he=["onClick"],Se={class:"lg:hidden w-2/12 flex justify-end items-center"},Le={class:"w-full flex lg:block lg:px-4 justify-center items-center"},Pe={class:"hidden lg:inline-block mr-1"},Ce={class:"w-full flex lg:block lg:px-4 justify-center items-center"},Ae={class:"hidden lg:inline-block mr-1"},ke={class:"w-full flex lg:block lg:px-4 justify-center items-center"},Ne={class:"hidden lg:inline-block mr-1"};var Oe=h({props:{productId:String,dateNow:String},setup(f){const w=f,h=e(),A=l(),Oe=t(),De=a((()=>Oe.locale.value));a((()=>h.state.resData.token)),a((()=>h.state.serverURL));const Ie=a((()=>{let e=JSON.parse(sessionStorage.getItem("lineListSetting")||"0");return Number(e)||25})),Be=s([]),Ee=s(0),_e=s(""),je=s([]),Re=s(new S({rightNowPage:1,amountData:Ie.value,minAmountData:10})),Te=()=>{Re.value.previous(),je.value=Re.value.getListByPage()},$e=()=>{Re.value.next(),je.value=Re.value.getListByPage()},Ge=()=>{let e=Number(Re.value.amountData);(!e||e==1/0||e>Ee.value)&&(e=Ee.value),e<Re.value.minAmountData&&(e=Re.value.minAmountData),Re.value.amountData=e,Ke(),sessionStorage.setItem("lineListSetting",JSON.stringify(e))},Fe=s(new P),ze=Fe.value.sortingFunction();Fe.value.setKeys(["productName","productSize","processNum"]);const Me=(e=[])=>{Re.value.set({searchedeAndSortedListCopy:e}),je.value=Re.value.getListByPage()};Fe.value.setFunction("Initial",(()=>{let e=ze.Initial(_e.value,Be.value,"productName");Me(e)})),Fe.value.setFunction("ASC",((e="")=>{let l=ze.ASC(Re.value.searchedeAndSortedListCopy,e,!0);Me(l)})),Fe.value.setFunction("DESC",((e="")=>{let l=ze.DESC(Re.value.searchedeAndSortedListCopy,e,!0);Me(l)}));const Ue=(e="")=>{Re.value.set({rightNowPage:1}),Fe.value.sort(e)},He=()=>{Fe.value.KeepTheSortingRuleAndFilter(),Ee.value=Re.value.searchedeAndSortedListCopy.length},Ke=(e=!0)=>{e&&(Fe.value.sort("else",!1),Re.value.set({rightNowPage:1}));let l=L(_e.value,Be.value,"productName");Re.value.set({searchedeAndSortedListCopy:l}),je.value=Re.value.getListByPage(),Ee.value=l.length},We=()=>{_e.value="",Ke()},qe=function(e=(()=>{})){let l=h.state.fakeData.theProductSet;Be.value=l,Re.value.set({searchedeAndSortedListCopy:Be.value}),je.value=Re.value.getListByPage(),Ee.value=Be.value.length,e()};qe();const Je=s("");let Ve,Ze=!1;const Xe=()=>{h.commit("onPopupForm","productAdd"),h.commit("onPopupOtherData",Be.value)};w.dateNow&&w.productId&&(Je.value=w.productId,Ve=setTimeout((()=>{Je.value="",Ve=null}),31e3)),n((()=>w.dateNow),(()=>{w.productId&&(Je.value=w.productId),Ze?qe(He):qe(),Ze=!1})),n((()=>Je.value),(e=>{Ve&&clearTimeout(Ve),e&&(Ve=setTimeout((()=>{Je.value="",Ve=null}),31e3))}));const Qe=s(!1),Ye=s(!1);return(e,l)=>(x(),u("main",k,[o("h1",N,i(e.$t("Product.PRO_PRDUCTSET")),1),o("div",O,[o("div",D,[o("div",null,[o("span",I,[B,o("span",E,i(e.$t("GLOBAL.GLOBAL_LIST")),1),o("span",_,"("+i(Ee.value)+")",1)])]),o("button",{class:"btn btnBlueColor",onClick:Xe},i(e.$t("GLOBAL.GLOBAL_ADD")),1)]),o("div",j,[o("div",R,[o("div",T,[c(o("input",{type:"text",class:"myInput rounded-r-none w-60 sm:w-auto text-gray-500",placeholder:e.$t("Product.PRO_NAME"),"onUpdate:modelValue":l[0]||(l[0]=e=>_e.value=e)},null,8,$),[[r,_e.value]]),o("button",{type:"button",class:"btn btnSearchColor",onClick:Ke},i(e.$t("Product.PRO_SEARCHBTN")),1)]),o("button",{type:"button",class:"btn btnBlueColor mb-1",onClick:We},i(e.$t("Product.PRO_SHOWALL")),1)]),o("div",G,[o("div",F,[o("label",z,i(e.$t("MachineList.MLIST_AMOUNT_DATA"))+" :",1),c(o("input",{type:"number",min:Re.value.minAmountData,step:"1",class:"myInput w-16 text-center","onUpdate:modelValue":l[1]||(l[1]=e=>Re.value.amountData=e),onChange:Ge,onKeypress:l[2]||(l[2]=d(p((()=>{}),["prevent"]),["enter"]))},null,40,M),[[r,Re.value.amountData,void 0,{lazy:!0}]])]),o("div",U,[o("button",{onClick:p($e,["prevent"])},K,8,H),o("div",W,[o("span",null,i(Re.value.rightNowPage),1),q,o("span",null,i(Re.value.totalPage),1)]),o("button",{onClick:p(Te,["prevent"])},V,8,J),o("span",null,i(e.$t("LineBalance.LB_PROCESSINFO_PAGES"))+":",1)])]),o("div",Z,[o("div",X,[o("div",Q,[Y,o("div",{class:"w-full text-center overflow-hidden",onClick:l[3]||(l[3]=e=>Ue("productName"))},[o("span",null,i(e.$t("Product.PRO_NAME")),1),"Initial"==Fe.value.info.productName.direction?(x(),u("span",ee,"↕")):v("",!0),"ASC"==Fe.value.info.productName.direction?(x(),u("i",le)):v("",!0),"DESC"==Fe.value.info.productName.direction?(x(),u("i",te)):v("",!0)]),o("div",{class:"w-full text-center overflow-hidden",onClick:l[4]||(l[4]=e=>Ue("productSize"))},[o("span",null,i(e.$t("Product.PRO_SIZE")),1),"Initial"==Fe.value.info.productSize.direction?(x(),u("span",ae,"↕")):v("",!0),"ASC"==Fe.value.info.productSize.direction?(x(),u("i",se)):v("",!0),"DESC"==Fe.value.info.productSize.direction?(x(),u("i",ne)):v("",!0)]),o("div",{class:"w-full text-center overflow-hidden",onClick:l[5]||(l[5]=e=>Ue("processNum"))},[o("span",null,i(e.$t("Product.PRO_PROCESS_AMOUNT")),1),"Initial"==Fe.value.info.processNum.direction?(x(),u("span",ue,"↕")):v("",!0),"ASC"==Fe.value.info.processNum.direction?(x(),u("i",oe)):v("",!0),"DESC"==Fe.value.info.processNum.direction?(x(),u("i",ie)):v("",!0)])])]),o("div",ce,[o("div",re,i(e.$t("GLOBAL.GLOBAL_EDIT")),1),o("div",de,i(e.$t("GLOBAL.GLOBAL_DELETE")),1)])]),o("main",null,[o("section",pe,[(x(!0),u(g,null,m(je.value,((l,t)=>(x(),u("article",{class:"w-full lg:flex lg:justify-center lg:mb-4",key:"productObj"+t},[o("div",{class:y(["flex lg:block flex-row-reverse tableHover border-t lg:py-5 lg:border-r lg:shadow-lg border-gray-800 rounded overflow-hidden",[[l.productId==Je.value?"isNewBgColor":""],[Qe.value?"lg:min-w-full":""],[Ye.value?"w-full lg:w-72":"theWidth"]]])},[o("div",ve,[o("div",ge,i((Re.value.rightNowPage-1)*Re.value.amountData+t+1)+". ",1),o("div",me,[o("div",fe,[o("button",{type:"button",class:"btn btnBlueColor",onClick:e=>(e=>{Ze=!0,h.commit("onPopupForm","productEdit"),h.commit("onPopupOtherData",Be.value),h.commit("onPopupOtherData2",je.value[e])})(t)},i(e.$t("GLOBAL.GLOBAL_EDIT")),9,we)]),o("div",xe,[o("button",{type:"button",class:"btn btnRedColor",onClick:e=>(e=>{let l=C(De.value),t=l.confirmDelete;if(confirm(t)){let t=h.state.fakeData.theProductSet,a=t.findIndex((l=>(null==l?void 0:l.productId)==e));if(a>=0){t.splice(a,1);let e=l.deleteSuccess;alert(e),qe(He)}}})(l.productId)},i(e.$t("GLOBAL.GLOBAL_DELETE")),9,ye)])])]),o("div",be,[o("div",{class:"w-full lg:w-full flex lg:flex-wrap cursor-pointer lg:text-lg",onClick:e=>((e="")=>{e&&A.push({name:"ProductSetEdit",query:{productId:e}})})(l.productId)},[o("div",Se,i((Re.value.rightNowPage-1)*Re.value.amountData+t+1)+". ",1),o("div",Le,[o("span",Pe,i(e.$t("Product.PRO_NAME"))+" :",1),b(" "+i(l.productName),1)]),o("div",Ce,[o("span",Ae,i(e.$t("Product.PRO_SIZE"))+" :",1),b(" "+i(l.productSize),1)]),o("div",ke,[o("span",Ne,i(e.$t("Product.PRO_PROCESS_AMOUNT"))+" :",1),o("span",{class:y([1==l.majorNum?"text-white":"text-red-500"])},i(l.processNum),3)])],8,he)])],2)])))),128))])])])])]))}},[["__scopeId","data-v-ac7615c2"]]);export{Oe as default};
